Bootstrap: docker
From: almalinux:9

%setup

%files
    ../../external/fastqc_v0.12.1.zip /opt

%post
    dnf -y install \
        git-2.43.5-2.el9_5 \
        unzip-6.0-57.el9 \
        java-21-openjdk-devel-1:21.0.5.0.11-2.el9.alma.1 \
        perl-4:5.32.1-481.el9

    pushd /opt
        # install fastqc
        echo "############ fastqc ###############"
        unzip fastqc_v0.12.1.zip
	chown -R $(whoami) FastQC
    popd

%environment
    export LC_ALL=C
    export PATH=/opt/FastQC:$PATH

%runscript
    fastqc --help
    
